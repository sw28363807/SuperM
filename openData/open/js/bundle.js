var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();!function(){return function r(e,t,n){function o(a,s){if(!t[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){return o(e[a][1][t]||t)},c,c.exports,r,e,t,n)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}}()({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=e("./view/BigItem"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function GameConfig(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GameConfig)}return r(GameConfig,null,[{key:"init",value:function(){(0,Laya.ClassUtils.regClass)("view/BigItem.js",a.default)}}]),GameConfig}();n.default=s,s.width=1336,s.height=750,s.scaleMode="fixedwidth",s.screenMode="none",s.alignV="top",s.alignH="left",s.startScene="test/Big.scene",s.sceneRoot="",s.debug=!1,s.stat=!1,s.physicsDebug=!1,s.exportSceneToJson=!0,s.init()},{"./view/BigItem":4}],2:[function(e,t,n){"use strict";var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=_interopRequireDefault(e("./GameConfig")),o=_interopRequireDefault(e("./view/BigRank"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}new(function(){function Main(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Main),Laya.isWXOpenDataContext=!0,Laya.isWXPosMsg=!0,Laya.init(r.default.width,r.default.height,!1),Laya.stage.scaleMode=r.default.scaleMode,Laya.stage.screenMode=r.default.screenMode,Laya.stage.alignV=r.default.alignV,Laya.stage.alignH=r.default.alignH,this.isInit=!1,Laya.Browser.onMiniGame?wx.onMessage(function(e){this.onComplete()}.bind(this)):this.onComplete()}return i(Main,[{key:"onComplete",value:function(){1!=this.isInit&&(this.isInit=!0,(new o.default).init())}}]),Main}())},{"./GameConfig":1,"./view/BigRank":5}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function get(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=laya.ui.View,a=(laya.ui.Dialog,Laya.Scene,Laya.ClassUtils.regClass),s=n.BigUI=function(e){function BigUI(){return _classCallCheck(this,BigUI),_possibleConstructorReturn(this,(BigUI.__proto__||Object.getPrototypeOf(BigUI)).call(this))}return _inherits(BigUI,o),i(BigUI,[{key:"createChildren",value:function(){r(BigUI.prototype.__proto__||Object.getPrototypeOf(BigUI.prototype),"createChildren",this).call(this),this.createView(BigUI.uiView)}}]),BigUI}();s.uiView={type:"View",props:{width:1336,height:750},compId:2,child:[{type:"List",props:{y:55,x:375,width:585,var:"_list",vScrollBarSkin:" ",spaceY:10,repeatX:1,height:639,elasticEnabled:!0,bgColor:"#6a8d87"},compId:3,child:[{type:"bigItem",props:{runtime:"view/BigItem.js",renderType:"render"},compId:5}]}],loadList:[],loadList3D:[]},a("ui.test.BigUI",s);var l=n.BigItemUI=function(e){function BigItemUI(){return _classCallCheck(this,BigItemUI),_possibleConstructorReturn(this,(BigItemUI.__proto__||Object.getPrototypeOf(BigItemUI)).call(this))}return _inherits(BigItemUI,o),i(BigItemUI,[{key:"createChildren",value:function(){r(BigItemUI.prototype.__proto__||Object.getPrototypeOf(BigItemUI.prototype),"createChildren",this).call(this),this.createView(BigItemUI.uiView)}}]),BigItemUI}();l.uiView={type:"View",props:{width:580,renderType:"render",height:100},compId:2,child:[{type:"Sprite",props:{y:0,x:3,width:575,texture:"loading/rank.png",height:99},compId:7},{type:"Image",props:{y:10,x:71,width:80,var:"img_head",height:80},compId:3,child:[{type:"Sprite",props:{y:-1,x:-1,width:82,renderType:"mask",height:82},compId:10}]},{type:"Label",props:{y:38,x:156,width:259,var:"text_name",text:"名字",strokeColor:"#3e567f",stroke:1,overflow:"scroll",height:24,fontSize:24,color:"#b9c622",align:"center"},compId:4},{type:"Label",props:{y:38,x:496,var:"text_score",text:"分数",fontSize:24,color:"#c8dd30",align:"left"},compId:5},{type:"Label",props:{y:38,x:13,width:50,var:"text_rank",text:"999",fontSize:28,color:"#c8dd30",align:"center"},compId:12},{type:"Label",props:{y:38,x:433,text:"分数:",fontSize:24,color:"#ffffff",align:"center"},compId:11}],loadList:["loading/rank.png"],loadList3D:[]},a("ui.test.BigItemUI",l)},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=e("../ui/layaMaxUI");var o=function(e){function BigItem(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BigItem),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(BigItem.__proto__||Object.getPrototypeOf(BigItem)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BigItem,r.BigItemUI),i(BigItem,[{key:"dataSource",set:function(e){e&&(this.text_rank.text=String(e.rankIndex+1),this.img_head.skin=e.avatarIP,this.text_name.text=e.UserName,this.text_score.text=e.RankValue)}}]),BigItem}();n.default=o},{"../ui/layaMaxUI":3}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=e("../ui/layaMaxUI");var o=function(e){function BigRank(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BigRank);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(BigRank.__proto__||Object.getPrototypeOf(BigRank)).call(this));return e._key="test10086",e.isdownLoadRank=!1,e.arr=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BigRank,r.BigUI),i(BigRank,[{key:"init",value:function(){Laya.stage.addChild(this),this.zOrder=99999,this.setlist(this.arr),Laya.Browser.onMiniGame&&wx.onMessage(this.recevieData.bind(this))}},{key:"getFriendData",value:function(){if(1!=this.isdownLoadRank){this.isdownLoadRank=!0;var e=this;wx.getFriendCloudStorage({keyList:["fenRank"],success:function(t){var n,i,r;console.log("+++++++++++++++++++++++++++++"),console.log(t);var o=[];if(console.log("-----------------getFriendCloudStorage------------"),t.data){for(var a=0;a<t.data.length;a++)(i=t.data[a]).KVDataList.length&&"fenRank"==(r=i.KVDataList[0]).key&&(r=JSON.parse(r.value),(n={}).avatarIP=i.avatarUrl,n.UserName=i.nickname,n.openID=i.openid,n.RankValue=r.wxgame.value1,n.rankIndex=a,o.push(n),console.debug(n));o=o.sort(function(e,t){return t.RankValue-e.RankValue});for(a=0;a<o.length;a++)o[a].index=a+1;e.setlist(o)}},fail:function(e){console.log("------------------获取托管数据失败--------------------"),console.log(e)}})}}},{key:"recevieData",value:function(e){null!=e.fen&&null!=e.fen&&(this.fen=e.fen,this.key=e.key,this.setSelfData())}},{key:"setSelfData",value:function(e){var t=[],n={wxgame:{}};n.wxgame.value1=String(this.fen),console.log("MyData: "+n.wxgame.value1);var i=this;t.push({key:"fenRank",value:JSON.stringify(n)}),wx.setUserCloudStorage({KVDataList:t,success:function(e){console.log("-----success:"+JSON.stringify(e)),i.getFriendData()},fail:function(e){console.log("-----fail:"+JSON.stringify(e)),i.getFriendData()},complete:function(e){console.log("-----complete:"+JSON.stringify(e)),i.getFriendData()}})}},{key:"setlist",value:function(e){this._list.array=e,this._list.refresh()}}]),BigRank}();n.default=o},{"../ui/layaMaxUI":3}]},{},[2]);